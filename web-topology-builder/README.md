# Network Topology Builder

A web-based drag-and-drop interface for creating Arista cEOS network topologies and generating Containerlab configurations.

## Features

- **Drag & Drop Interface**: Intuitive visual topology creation
- **Device Library**: Support for cEOS routers and Linux hosts
- **Interactive Canvas**: Click, drag, and connect devices
- **Configuration Management**: Set device properties and IP addresses
- **Export Functionality**: Generate Containerlab topology files and device configurations
- **Real-time Preview**: Visual feedback during topology creation

## Getting Started

### Prerequisites

- Modern web browser with JavaScript enabled
- Containerlab installed (for deploying generated topologies)
- Arista cEOS image available

### Installation

1. Clone or download the web-topology-builder directory
2. Open `index.html` in your web browser
3. No additional installation required!

## Usage

### Creating a Topology

1. **Add Devices**:
   - Drag devices from the "Device Library" to the canvas
   - Supported device types:
     - **cEOS Router**: Arista CloudEOS router
     - **Linux Host**: Alpine Linux container

2. **Connect Devices**:
   - Click and drag from one device to another to create links
   - Links are automatically assigned interface numbers

3. **Configure Devices**:
   - Double-click on any device to open the configuration modal
   - Set hostname, management IP, loopback IP, and ASN
   - Click "Save" to apply changes

4. **Configure Links**:
   - Double-click on any link to configure IP addresses
   - Set interface assignments and IP configurations
   - Supports both IPv4 addressing

### Export Options

#### Export Topology
- Generates a Containerlab topology YAML file
- Includes all devices, links, and basic configurations
- Ready to deploy with `containerlab deploy`

#### Export Configs
- Generates individual device configuration files
- Creates Ansible inventory for automation
- Includes basic router configurations with interfaces

### File Structure

```
web-topology-builder/
├── index.html          # Main application
├── css/
│   └── styles.css      # Application styling
├── js/
│   └── topology-builder.js  # Core application logic
└── README.md          # This file
```

## Generated Files

### Topology YAML
```yaml
name: generated-topology
mgmt:
  network: internalnet
  ipv4-subnet: 192.168.101.0/24
topology:
  kinds:
    ceos:
      image: ceos:4.34.1F
  nodes:
    ceos1:
      kind: ceos
      mgmt-ipv4: 192.168.101.11
      startup-config: configs/ceos1.cfg
  links:
    - endpoints: ["ceos1:eth1", "ceos2:eth1"]
```

### Device Configuration
```
! Device: ceos1
! Generated by Network Topology Builder

hostname ceos1
ip name-server vrf MGMT 8.8.8.8
ip name-server vrf MGMT 192.168.2.1

interface Management0
   vrf MGMT
   ip address 192.168.101.11/24

interface Loopback0
   ip address 10.255.1.1/32

interface eth1
   description to ceos2
   ip address 192.168.1.1/24
   no shutdown

router bgp 65000
   router-id 10.255.1.1

end
```

### Ansible Inventory
```yaml
all:
  children:
    network_devices:
      vars:
        ansible_connection: network_cli
        ansible_network_os: eos
      hosts:
        ceos1:
          ansible_host: 192.168.101.11
```

## Deployment

### Using Containerlab

1. Export topology and configurations
2. Place files in your lab directory:
   ```
   my-lab/
   ├── topology.yml
   └── configs/
       ├── ceos1.cfg
       └── ceos2.cfg
   ```
3. Deploy the topology:
   ```bash
   cd my-lab
   containerlab deploy -t topology.yml
   ```

### Using Ansible

1. Export configurations and inventory
2. Run Ansible playbooks:
   ```bash
   ansible-playbook -i inventory.yml your-playbook.yml
   ```

## Browser Compatibility

- **Chrome**: 80+
- **Firefox**: 75+
- **Safari**: 13+
- **Edge**: 80+

## Features in Detail

### Device Management
- **Visual Representation**: Color-coded devices (blue for cEOS, green for Linux)
- **Property Editing**: Comprehensive device configuration
- **Interface Assignment**: Automatic interface numbering
- **Drag & Drop**: Intuitive device placement

### Link Management
- **Visual Connections**: Clear link visualization
- **IP Configuration**: IPv4 address assignment
- **Interface Selection**: Manual interface assignment
- **Link Labels**: Interface information display

### Export System
- **YAML Generation**: Properly formatted Containerlab topologies
- **Config Templates**: EOS configuration files
- **Inventory Creation**: Ansible-compatible inventories
- **Download System**: Direct file downloads

## Troubleshooting

### Common Issues

1. **Devices not appearing**:
   - Ensure drag operation completes fully
   - Check browser console for errors

2. **Links not connecting**:
   - Ensure devices are not overlapping
   - Try dragging from center of device

3. **Export not working**:
   - Check browser download permissions
   - Ensure topology has at least one device

### Performance Tips

- Limit topology to 20-30 devices for optimal performance
- Use meaningful device names for better organization
- Save frequently to avoid losing work

## Contributing

This is a client-side only application. To contribute:

1. Fork the repository
2. Make your changes
3. Test in multiple browsers
4. Submit a pull request

## License

This project is provided as-is for educational and development purposes.

## Support

For issues or questions:
1. Check the troubleshooting section
2. Review browser console for errors
3. Ensure all prerequisites are met

## Future Enhancements

- IPv6 support
- Additional device types
- Template library
- Import existing topologies
- Advanced routing protocol configuration
- Integration with network simulation tools
